{
    "version": "https://jsonfeed.org/version/1",
    "title": "𝕺𝖚𝖗 𝕷𝖎𝖋𝖊 • All posts by \"一个自制的js打字效果\" category",
    "description": "",
    "home_page_url": "https://pangbai.work",
    "items": [
        {
            "id": "https://pangbai.work/2021/03/13/html/jstxt/",
            "url": "https://pangbai.work/2021/03/13/html/jstxt/",
            "title": "利用JavaScript实现循环打字效果",
            "date_published": "2021-03-13T11:27:55.000Z",
            "content_html": "<p><ins class=\"primary\">一个自己制作的 JS 打字效果</ins></p>\n<h1 id=\"效果\"><a class=\"anchor\" href=\"#效果\">#</a> 效果</h1>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_0\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_0\"> 循环打字</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_1\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_1\"> 控制打字速度</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_2\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_2\"> 纯 JS 实现</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_3\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_3\"> 适用于网页美化<br />\n效果如下</label></li>\n</ul>\n<h1 id=\"javascript教程\"><a class=\"anchor\" href=\"#javascript教程\">#</a>  <code>JavaScript</code>  教程</h1>\n<p>首先这个效果的核心是 <code>setTimeout()</code>  方法和 <code>slice()</code>  方法<br />\n这两个 JS 方法的用途分别是每隔一段时间执行一次代码和截取固定长度的字符串<br />\n <figure class=\"highlight js\"><figcaption><span>setTimeout的用法</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setTimeout</span>(执行代码,执行时间)</span><br></pre></td></tr></table></figure><br />\n<figure class=\"highlight js\"><figcaption><span>slice()的用法</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对象.slice(截取起始,截取末尾)</span><br></pre></td></tr></table></figure><br />\n 接下来只需要把效果拼接一下就可以了<br />\n使用 length () 取得文本长度<br />\n如果没到达文本总长度就逐增截取字符并显示<br />\n达到了文本长度就逐减截取字符并显示<br />\n下面给出 JavaScript 实例<br />\n<span class=\"spoiler\" title=\"你知道得太多了\">这些只是旁白自己随手写的，可能代码有些粗糙，有实力的大佬可以自行修改</span><br />\n <figure class=\"highlight js\"><figcaption><span>打字机实例</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> i = <span class=\"number\">0</span>,</span><br><span class=\"line\">timer = <span class=\"number\">0</span>,</span><br><span class=\"line\">s = <span class=\"number\">1</span>,</span><br><span class=\"line\">str; <span class=\"comment\">//申明将用到的变量，并初始化</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> divTyping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;text&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">//获得文本元素，你需要在html里添加一个带id的文本元素                                            //如 &lt;h1 id=&quot;text&quot;&gt;&lt;/h1&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">typing</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (s == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">    str = <span class=\"string\">&#x27;时间虽短 情谊长存&#x27;</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (s == <span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">    str = <span class=\"string\">&#x27;苟富贵无相忘&#x27;</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (s == <span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">str = <span class=\"string\">&#x27;No matter where \\nWe called home&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//如果你要循环打出不同的几段话，就使用上面这个函数</span></span><br><span class=\"line\"><span class=\"comment\">//如果你只想要一段话重复打字，直接设置str变量的值即可。</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (i &lt;= str.length) &#123;</span><br><span class=\"line\"> divTyping.innerHTML = str.slice(<span class=\"number\">0</span>, i++) + <span class=\"string\">&#x27;_&#x27;</span>;</span><br><span class=\"line\"> timer = <span class=\"built_in\">setTimeout</span>(typing, <span class=\"number\">300</span>);</span><br><span class=\"line\"><span class=\"comment\">// 如果长度未到达，就逐步增字</span></span><br><span class=\"line\"><span class=\"comment\">// &#x27;_&#x27;为光标符号，可以换成&#x27;|&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\"><span class=\"comment\">//如果长度到达，结束打字,移除打字机，并启动扣字机</span></span><br><span class=\"line\"><span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">typin();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//这里是扣字机</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">typin</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\"> divTyping.innerHTML = str.slice(<span class=\"number\">0</span>,i--) + <span class=\"string\">&#x27;_&#x27;</span>;</span><br><span class=\"line\"> timez = <span class=\"built_in\">setTimeout</span>(typin, <span class=\"number\">60</span>);</span><br><span class=\"line\"><span class=\"comment\">//如果文本长度不为0就逐步扣字</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"keyword\">else</span> &#123;\t</span><br><span class=\"line\"><span class=\"comment\">// 如果文本长度为0就结束扣字机，开启打字机</span></span><br><span class=\"line\"> <span class=\"built_in\">clearTimeout</span>(timez);</span><br><span class=\"line\"> typing();</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (s == <span class=\"number\">3</span>)&#123;</span><br><span class=\"line\"> s = <span class=\"number\">0</span>;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"comment\">//控制循环打字</span></span><br><span class=\"line\"> s++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>复制粘贴即可食用<br />\n <code>本文来自旁白</code> <br />\n转载请注明原地址</p>\n",
            "tags": [
                "html前端"
            ]
        }
    ]
}